# Esup-Pod V5 - Backend (Context for AI Agents)

## Project Overview
Esup-Pod V5 is a major architectural refactor of the Esup-Pod video platform. 
The goal is to transform the legacy monolithic Django application into a **Headless API (REST/DRF)** that acts as the "Single Source of Truth" for a separate Frontend (SPA) and an Encoding Microservice.

First, *consult the documentation*: ./docs
For *detailed domain logic and workflows*, read: ./llms-full.txt

## Key Objectives
1.  **API First**: No HTML rendering (except Admin). All data exposed via DRF.
2.  **Orchestration**: Manage video lifecycle (Upload -> Encode -> Publish).
3.  **Legacy Integration**: Merge features from the old WebTV (Live Streaming, Editorial) and migrate existing data.

## Technology Stack
-   **Lang**: Python 3.12+
-   **Framework**: Django 5.2.8
-   **API**: Django Rest Framework (DRF) 3.15.2
-   **Async**: Celery + Redis
-   **DB**: MySQL
-   **Auth**: CAS / Shibboleth / LDAP / JWT

## Repository Structure Overview
-   `src/apps/`: Domain-driven modules (Auth, Video, Live, Editorial).
-   `src/config/`: Project configuration.
-   `src/services/`: External service clients.
-   `requirements/`: Dependencies.

## Coding Guidelines
-   **Code Style**: 4 spaces, `flake8` compliant, snake_case functions, PascalCase classes.
-   **Tests**: Run tests using: `pytest --reuse-db`
-   **Git**: `dev_v5` branch, Imperativemoji commit messages.